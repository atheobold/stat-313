---
title: "Assessing Normality & Equal Variance"
output: ioslides_presentation
fig_height: 4
fig_width: 4
---

<style type="text/css">
slides > slide:not(.nobackground):after {
  content: '';
}
</style>

```{r setup, include=FALSE}
knitr::opts_chunk$set(warning = FALSE, 
                       message = FALSE, 
                      fig.width = 5, 
                      fig.height = 4,
                      fig.align = "center",
                      results = "hold")

options(show.signif.stars = FALSE)

library(tidyverse)
library(openintro)
library(broom)

evals <- evals %>% 
  rename(sex = gender)

bty_score_lm <- lm(score ~ bty_avg + sex + bty_avg:sex, data = evals)
bty_score_info <- augment(bty_score_lm)
```

## Multiple Linear Regression 

```{r, eval = FALSE}
bty_score_lm <- lm(score ~ bty_avg + sex + bty_avg:sex, data = evals)
```


```{r, echo = FALSE}
evals %>% 
  ggplot(aes(x = bty_avg, y = score, color = sex)) + 
  geom_jitter() + 
  geom_smooth(method = "lm")
```

## Normally Distributed Residuals

- Observations vary symmetrically around the least squares line, spreading out
in a bell-shaped fashion.

- Distribution of residuals appear to resemble Normal curve "close enough" 

- Less important than linearity or independence for a few reasons: 
  * Least squares is an unbiased estimate of the true population model.
  * Larger sample sizes make the model more reliable. 

## Code for Obtaining the Residuals 

```{r, eval = FALSE}
bty_score_info <- augment(bty_score_lm)
```

```{r, echo = FALSE}
head(bty_score_info)
```

## Code for Visualizing the Distribution of the Residuals 

```{r, fig.height = 3, fig.width = 4}
bty_score_info %>% 
ggplot(aes(x = .resid)) +
  geom_histogram(binwidth = 0.2) +
  xlab("Residuals")
```

## Assessing Normality 

```{r, echo = FALSE}
bty_score_info %>% 
ggplot(aes(x = .resid)) +
  geom_histogram(binwidth = 0.2) +
  xlab("Residuals")
```

## Equal Variance

- The variability of points around the least squares line remains roughly
constant.

- Data that exhibit non-equal variance across the range of x-values will have
the potential to seriously mis-estimate the variability of the slope. 

## Code for Assessing Equal Variance

```{r, eval = FALSE, fig.height = 5}
bty_score_info %>% 
ggplot(aes(x = .fitted, y = .resid)) +
  geom_point() +
  geom_hline(yintercept = 0, linetype = "dashed", color = "red") +
  labs(x = "Fitted values", 
       y = "Residuals")
```

## Assessing Equal Variance

```{r, echo = FALSE, fig.height = 5}
bty_score_info %>% 
ggplot(aes(x = .fitted, y = .resid)) +
  geom_point() +
  geom_hline(yintercept = 0, linetype = "dashed", color = "red") +
  labs(x = "Fitted values", 
       y = "Residuals")
```



