---
title: "Stat 313 - First Synchronous Meeting!"
author: "Allison Theobold"
date: "September 23, 2020"
output: ioslides_presentation
---

<style type="text/css">
slides > slide:not(.nobackground):after {
  content: '';
}
</style>

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE, 
                      message = FALSE, 
                      warning = FALSE)
library(tidyverse)
library(openintro)
library(nycflights13)
library(unvotes)
library(kableExtra)
library(lubridate)
library(vembedr)
library(htmltools)
```

## What is Statistics?

```{r}
embed_url("https://www.youtube.com/watch?v=wV0Ks7aS7YI")
```

## What Statistics Is To Me 

<div style="font-size:1.25em">

> Scientists seek to answer questions using rigorous methods and careful
> observations. These observations – collected from the likes of field notes,
> surveys, and experiments – form the backbone of a statistical investigation
> and are called data.  

> Statistics is the study of how best to collect, analyze,
> and draw conclusions from data. 
>
> _Introduction to Modern Statistics_

## Data

```{r, echo = FALSE}
children_gender_stereo[[1]] %>% 
  sample_n(6) %>%
  kable(caption = "Gender stereotypes in 5-7 year old children", 
        format = "html") %>% 
  kable_styling(bootstrap_options = c("striped", "condensed"), 
                latex_options = "striped")
  
```

## In Every Context 

```{r, echo = FALSE}
nba_heights %>% 
  sample_n(6) %>%
  kable(caption = "Heights of NBA players from the 2008-2009 season", 
        format = "html") %>% 
    kable_styling(bootstrap_options = c("striped", "condensed"), 
                latex_options = "striped")
```

## You Could Imagine

```{r, echo = FALSE}
un_votes %>% 
  sample_n(6) %>%
  kable(caption = "Voting history of the United Nations General Assembly", 
        format = "html") %>% 
    kable_styling(bootstrap_options = c("striped", "condensed"), 
                latex_options = "striped")
```

## Types of Variables

![](variables.png)

## Data Types in `R`

```{r}
loan50 <- loan50 %>% 
  select(state, term, homeownership, annual_income, verified_income,
         has_second_income) %>% 
  rename(income = annual_income, 
         ownership = homeownership)
```

```{r echo = TRUE}
loan50
```

## Group Exercise

```{r, echo = FALSE, fig.width = 8, fig.height = 5}
un_votes %>%
  filter(country %in% c("United States of America", "Turkey")) %>%
  inner_join(un_roll_calls, by = "rcid") %>%
  inner_join(un_roll_call_issues, by = "rcid") %>%
  mutate(issue = ifelse(issue == "Nuclear weapons and nuclear material",
                        "Nuclear weapons and materials", issue)) %>%
  group_by(country, year = year(date), issue) %>%
  summarize(
    votes = n(),
    percent_yes = mean(vote == "yes")
    ) %>%
  filter(votes > 5) %>%  # only use records where there are more than 5 votes
  ggplot(mapping = aes(x = year, y = percent_yes, color = country)) +
    geom_point() +
    geom_smooth(method = "loess", se = FALSE) +
    facet_wrap(~ issue) +
    labs(
      title = "Percentage of 'Yes' votes in the UN General Assembly, from 1946 to 2015",
      y = "% Yes",
      x = "Year",
      color = "Country"
    )
```

## Sampling Strategies 

<div class="columns-2">

```{r pop-to-sample, fig.width = 4.5, fig.height = 5}
par_og <- par(no.readonly = TRUE) # save original par
par(mar = rep(0, 4))
plot(c(0, 2),
     c(0, 1.1),
     type = 'n',
     axes = FALSE, 
     xlab = "",
     ylab = "")
temp <- seq(0, 2 * pi, 2 * pi / 100)
x <- 0.5 + 0.5 * cos(temp)
y <- 0.5 + 0.5 * sin(temp)
lines(x, y)

s <- matrix(runif(700), ncol = 2)
S <- matrix(NA, 350, 2)
j <- 0
for (i in 1:nrow(s)) {
  if(sum((s[i, ] - 0.5)^2) < 0.23){
    j <- j + 1
    S[j, ] <- s[i, ]
  }
}
points(S, col = COL[1, 3], pch = 20)
text(0.5, 1, 'population', pos = 3, cex = 1.3)

set.seed(50)
N <- sample(j, 25)
lines((x - 0.5) / 2 + 1.5, (y - 0.5) / 2 +  0.5, pch = 20)

SS <- (S[N, ] - 0.5) / 2 + 0.5
these <- c(2, 5, 11, 10, 12)
points(SS[these, 1] + 1,
       SS[these, 2],
       col = COL[4, 2],
       pch = 20,
       cex = 1.5)
text(1.5, 0.75, 'sample', pos = 3, cex = 1.3)

for (i in these) {
  arrows(S[N[i], 1], S[N[i], 2],
         SS[i, 1] + 1 - 0.03, SS[i, 2],
         length = 0.08, col = COL[5], lwd = 1.5)
}
par(par_og) # restore original par
```

</br>
</br>

- Simple random sample

- Stratified random sample

- Cluster sample

- Multistage sample

</div>

## Types of Studies

**Experiment** 

- randomization 
- replication 
- controlling
- blocking

</br>

**Observational Study** 

- collect data in a way that does not directly interfere with how the data arise

## Relationships Between Variables

<center>
explanatory variable $\rightarrow$ *might affect* $\rightarrow$ response variable
</center>

</br>

- If two variables are not associated, then they are said to be __independent__. 

- If two variables are associated, then they are said to be __dependent__. 

<!-- - No pair of variables is both associated and independent!  -->

</br>

<center>
association $\neq$ causation 
</center>

</br>

__What do you need to say that the explanatory variable **causes** a change in
the response variable?__ 

## Group Exercise 

The following scatterplot was created as part of a study evaluating the
relationship between estimated life expectancy at birth (as of 2014) and
percentage of internet users (as of 2009) in 208 countries for which such data
were available.

```{r, fig.width = 5, fig.height= 4, fig.align = "center"}
library(scales)

cia_factbook %>% 
ggplot(aes(y = life_exp_at_birth,
           x = internet_users/population)) +
  geom_point(color = COL["blue", "full"], alpha = 0.8) +
  scale_x_continuous(
    labels = label_percent(scale = 100),
    limits = c(0, 1)) +
  labs(
    x = "Percent internet users",
    y = "Life expectancy",
    title = "Life Expectancy vs. Percent Internet Users", 
    subtitle = "Data from 2014 from the CIA Factbook"
    ) +
  theme_minimal()
    ```

## Questions for Me

- Content questions? 

- Course structure questions?  

- Programming in `R` questions? 

## Drop In `R` Help Session(s)

- Wednesday after class (1:00 - 3:00)
- Thursday office hours (4:00 - 5:00 pm)

- Post to `R` Questions channel in Canvas
