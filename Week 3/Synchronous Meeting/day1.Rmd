---
title: "Visualizing & Summarizing Numerical Data"
date: "October 4, 2021"
author: "Dr. Allison Theobold"
output:
  xaringan::moon_reader:
    lib_dir: libs
    css: ["xaringan-themer.css", "slide-style.css"]
    nature:
      highlightStyle: solarized-light
      highlightLines: true
      countIncrementalSlides: false
      ratio: "16:9"
      slideNumberFormat: |
        <div class="progress-bar-container">
          <div class="progress-bar" style="width: calc(%current% / %total% * 100%);">
          </div>
        </div>
---


```{r, echo = FALSE, message = FALSE, warning = FALSE}
# R options
options(
  htmltools.dir.version = FALSE,
  tibble.width = 65,
  width = 65
  )

# figure height, width, dpi
knitr::opts_chunk$set(fig.width = 8, 
                      fig.asp = 0.618,
                      out.width = "60%",
                      dpi = 300)

# fontawesome
htmltools::tagList(rmarkdown::html_dependency_font_awesome())

# magick
dev.off <- function(){
  invisible(grDevices::dev.off())
}

# xaringanExtra
library(xaringanExtra)
xaringanExtra::use_panelset()

library(emo)
library(palmerpenguins)
library(tidyverse)
library(ggridges)
library(flair)
```

```{r set-theme, include = FALSE}
library(xaringanthemer)
style_duo_accent(
  primary_color      = "#b76352", # mango
  secondary_color    = "#34605f", # bayberry
  header_font_google = google_font("Raleway"),
  text_font_google   = google_font("Raleway", "300", "300i"),
  code_font_google   = google_font("Source Code Pro"),
  header_color = "#793540", #rhubarb
  white_color = "#F5F5F5", # lightest color
  black_color = "#36454F", # darkest color
  text_font_size = "30px", 
  link_color = "#696969" #grey
)
```

.pull-left-wide[
```{r, echo = FALSE, warning = FALSE, message = FALSE, out.width = "90%", out.height = "70%"}
penguins %>% 
  ggplot(aes(x = bill_length_mm, y = species, fill = sex)) + 
  geom_density_ridges(alpha = 0.5, scale = 1) + 
  labs(x = "Bill Length (mm)", 
       y = "Penguin Species")

```
]

--

.pull-right-narrow[
.hand[What are the `aes`thetics in this plot?] 

</br> 

.hand[What `geom`etric object is being plotted?]
]

---

class: center, middle 

.larger[Univariate (One Variable) Visualizations -- For Numerical Data]

--

.pink[.large[Dotplot]]

--

.honey[.large[Histogram]]

--

.gray[.large[Boxplot]]

--

.mango[.large[Density Plot]]


---

class: center, inverse

.pink[.larger[Dotplot]]

```{r, message = FALSE, warning = FALSE, fig.align = 'center', out.height = "50%"}
ggplot(data = penguins,
       mapping = aes(x = bill_length_mm)) + 
  geom_dotplot(dotsize = 0.65)
```

---

.pull-left[
.larger[Pros]
- Easy to inspect

- Display raw data (individual observations)

- Inspect shape of a distribution (skewed or symmetric) 

- Identify modes
]

--

.pull-right[
.larger[Cons]
- The y-axis is confusingly labeled! 

- Not great for large amounts of observations (need to mess with `dotsize`)
]

---

class: center, inverse

.honey[.larger[Histogram]]

```{r, message = FALSE, warning = FALSE, fig.align = 'center'}
ggplot(data = penguins,
       mapping = aes(x = bill_length_mm)) + 
  geom_histogram()
```

---

.pull-left[
.larger[Pros]

- Easy to inspect

- Higher bars represent where data are relatively more common 

- Inspect shape of a distribution (skewed or symmetric) 

- Identify modes
]

--

.pull-right[
.larger[Cons]

- **Does not** plot raw data, plot summaries (counts) of the data! 

- Sensitive to `binwidth`
]

---

class: center, inverse

.gray[.larger[Boxplot]]


.pull-left[
```{r, out.width = "80%", warning = FALSE, message = FALSE}
ggplot(data = penguins, 
       mapping = aes(x = bill_length_mm)) + 
  geom_boxplot()
```
]

--

.pull-right[
- What calculations are necessary to create a boxplot?

</br>
</br>
</br>

- What are strengths of a boxplot? 

- What are weaknesses of a boxplot?
]

---

class: center, inverse

.mango[.larger[Density Plot]]

.pull-left[
```{r, out.width = "80%", message = FALSE, warning = FALSE}
ggplot(data = penguins,
       mapping = aes(x = bill_length_mm)) + 
  geom_density()
```
]

.pull-right[
- A smooth approximation to a variable's distribution 
- Plots density (as a proportion) on the y-axis

</br> 

- What are the strengths of a density plot?  
- What are the weaknesses of a density plot? 
]

---

class: center, middle

.larger[Bivariate (Two Variables) Visualizations -- For Numerical Data]

--

.pink[.large[Side-by-Side Boxplots]]

--

.honey[.large[Side-by-Side Density Plots (Ridge Plots)]]

--

.gray[.large[Faceted Histograms]]

--

.mango[.large[Scatterplots]]

---

class: center, inverse

.pink[.larger[Side-by-Side Boxplots]]

.pull-left-wide[
```{r, out.width = "80%", fig.align = "center", warning = FALSE}
ggplot(data = penguins, 
       mapping = aes(y = bill_length_mm, x = species)) + 
  geom_boxplot()
```
]

.pull-right-narrow[
- Stack vertically (categorical variable on y-axis)

</br> 

- Stack horizontally (categorical variable on x-axis)
]

---

class: center, inverse

.gray[.larger[Faceted Histograms]]

```{r, out.height = "40%", out.width = "60%", fig.align = "center", warning = FALSE}
ggplot(data = penguins, 
       mapping = aes(x = bill_length_mm)) + 
  geom_histogram(binwidth = 3) + 
  facet_wrap(~ species)
```

---

class: center, inverse

.mango[.larger[Scatterplots]]

```{r, warning = FALSE, fig.align = 'center', out.height = "60%"}
ggplot(data = penguins, 
       mapping = aes(y = bill_length_mm, x = bill_depth_mm)) + 
  geom_point()
```

---

.bitlarger[Multivariate Plots]

There are two main methods for adding a third (or fourth) variable into a 
data visualization: 

- Colors: 
  * creates colors for every level of a categorical variable
  * creates a gradient for different values of a quantitative variable

--

- Facets: 
  * creates subplots for every level of a variable
  * labels each sub-plot with the value of the variable

---

class: center, inverse

.bitlarger[Colors in Scatterplots]

```{r, out.height = "50%", fig.align = 'center', warning = FALSE}
ggplot(data = penguins, mapping = aes(y = bill_length_mm,
                                      x = bill_depth_mm, 
                                      color = species)) + 
  geom_point()
```

---

class: center, inverse

.bitlarger[Colors in Boxplots]

```{r, out.height = "50%", fig.align = 'center', warning = FALSE}
ggplot(data = penguins, mapping = aes(y = bill_length_mm,
                                      x = species,
                                      color = sex)) +
  geom_boxplot()
```

---

class: center, inverse

.bitlarger[Facets and Colors in Scatterplots] 

```{r, out.height = "40%", fig.align = 'center', warning = FALSE}
ggplot(data = penguins, mapping = aes(y = bill_length_mm, x = bill_depth_mm,
                                      color = sex)) + 
  geom_point() + 
  facet_wrap(~ species)
```

---

class: center, inverse

.bitlarger[Facets and Colors in Boxplots]

```{r, out.height = "40%", fig.align = 'center', warning = FALSE}
ggplot(data = penguins, mapping = aes(x = bill_length_mm, y = species,
                                      fill = sex)) + 
  geom_boxplot() + 
  facet_wrap(~ island)
```

